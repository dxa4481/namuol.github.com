<html><head><meta charset="utf-8" /><link rel="stylesheet" href="style.css" /><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script><script src="dudlpad.min.js"></script><title>var namuol = 'Louis Acresti';</title><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33247419-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body><img id="bg" style="display:none" /><div id="content"><a href="http://github.com/namuol">github.com/namuol</a> - <a href="http://twitter.com/louroboros">@louroboros</a> - <a href="mailto:louis.acresti@gmail.com">louis.acresti@gmail.com</a><br /><br /><table id="code"><tbody><tr><td><b>* </b><a href="//www.flog-game.com">FLOG</a></td><td>a minigolf-inspired puzzle game made for TIGSource's Sports compo</td></tr><tr><td><b>* </b><a href="//spiffyshark.com">spiffyshark.com</a></td><td>web app for creating, importing, and editing Grooveshark playlists</td></tr><tr><td><a href="earf-html5">earf</a></td><td>oldschool software-only terrain renderer</td></tr><tr><td><a href="selectimg">selectimg</a></td><td>hide a "secret image" in text which is revealed when the text is selected</td></tr><tr><td><a href="banal-duck">banal duck</a></td><td><a href="http://www.gwern.net/DNB%20FAQ">dual n-back</a> in the browser</td></tr><tr><td><a href="http://fiddle.jshell.net/namuol/JsLC6/show/trght/">show me everything</a></td><td>flickr API toy. the real star of the show is <a href="http://masonry.desandro.com/">jquery masonry</a></td></tr><tr><td><a href="dudlpad">dudlpad</a></td><td>dependency-free library for doodling on a <span class="code">&lt;canvas&gt;</span></td></tr><tr><td><a href="tracktime">tracktime</a></td><td>a simple tool to track the time you spend</td></tr><tr><td><a href="muniverse">Î¼niverse (on hiatus)</a></td><td>epic (tiny) 2D space-exploration game <a href="http://muniverse-game.tumblr.com/">(devlog)</a></td></tr></tbody></table><table id="music"><tbody><tr><td></td></tr></tbody></table><span id="tinymsg"><a href="dance-like-this.html">explorers are rewarded</a></span></div><div id="container"><canvas width="1280" height="720"></canvas></div><script>var __slice = Array.prototype.slice;var __hasProp = Object.prototype.hasOwnProperty;var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };var __extends = function(child, parent) {  for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; }  function ctor() { this.constructor = child; }  ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype;  return child; };var __indexOf = Array.prototype.indexOf || function(item) {  for (var i = 0, l = this.length; i < l; i++) {    if (this[i] === item) return i;  } return -1; };(function () {
      /*
      */

      /*
      */

      var bg, canvas, color, colors, container, ctx, drawing, el, height, mousePos, mouseX, mouseY, pad, s, start, width;
      (function() {
        var touchHandler, touchInit;
        touchHandler = function(event) {
          var first, simulatedEvent, touches, type;
          touches = event.changedTouches;
          first = touches[0];
          type = "";
          switch (event.type) {
            case "touchstart":
              type = "mousedown";
              break;
            case "touchmove":
              type = "mousemove";
              break;
            case "touchend":
              type = "mouseup";
              break;
            default:
              return;
          }
          simulatedEvent = document.createEvent("MouseEvent");
          simulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0, null);
          first.target.dispatchEvent(simulatedEvent);
          return event.preventDefault();
        };
        touchInit = function() {
          var container;
          container = $('#container')[0];
          container.addEventListener("touchstart", touchHandler, true);
          container.addEventListener("touchmove", touchHandler, true);
          container.addEventListener("touchend", touchHandler, true);
          return container.addEventListener("touchcancel", touchHandler, true);
        };
        return touchInit();
      })();
      start = new Date;
      colors = ['#043227', '#097168', '#ffcc88', '#f4a32e', '#fa482e'];
      s = void 0;
      $.ajax({
        type: 'get',
        url: 'http://lmn2.us.to:34243/socket.io/socket.io.js',
        dataType: 'script',
        success: function() {
          console.log('loaded');
          if (typeof io !== "undefined" && io !== null) {
            s = io.connect('http://lmn2.us.to:34243');
            if (s != null) {
              return s.on('draw', function(data) {
                if (!(data.color != null)) {
                  return;
                }
                if (data.color < 0) {
                  return;
                }
                if (data.color >= colors.length) {
                  return;
                }
                pad.start([data.coords[0], data.coords[1]], colors[data.color]);
                pad.draw(data.coords, colors[data.color]);
                return pad.end([data.coords[2], data.coords[3]], colors[data.color]);
              });
            }
          }
        },
        error: function() {
          return console.log('errord');
        }
      });
      container = $('body')[0];
      canvas = $('canvas')[0];
      bg = $('#bg')[0];
      width = 1280;
      height = 720;
      pad = DUDLPAD.create(canvas);
      pad.lineWidth(4);
      drawing = false;
      mouseX = void 0;
      mouseY = void 0;
      color = 0;
      mousePos = function(e) {
        return [e.clientX, e.clientY];
      };
      $(container).mousedown(function(e) {
        var pos;
        if (e.which !== 1) {
          return;
        }
        color = Math.floor(Math.random() * colors.length);
        pos = mousePos(e);
        pos[0] /= 1.5;
        pos[1] /= 1.5;
        mouseX = pos[0];
        mouseY = pos[1];
        drawing = true;
        return pad.start([mouseX, mouseY], colors[color]);
      });
      $(container).mousemove(function(e) {
        var pos;
        if (drawing) {
          pos = mousePos(e);
          pos[0] /= 1.5;
          pos[1] /= 1.5;
          pad.draw([mouseX, mouseY, pos[0], pos[1]], colors[color]);
          if (s != null) {
            if (s.socket && s.socket.open) {
              s.emit('draw', {
                coords: [mouseX, mouseY, pos[0], pos[1]],
                color: color
              });
            }
          }
          mouseX = pos[0];
          return mouseY = pos[1];
        }
      });
      $(container).mouseup(function(e) {
        var pos;
        if (e.which !== 1) {
          return;
        }
        pos = mousePos(e);
        pad.end([pos[0], pos[1]]);
        return drawing = false;
      });
      el = $('canvas')[0];
      ctx = el.getContext('2d');
      /*
            setInterval ->
              ctx.fillStyle = 'rgba(255,255,255,0.05)'
              ctx.fillRect 0,0, el.width, el.height
            , 500
      */

      bg.onload = function() {
        if (((new Date) - start) > 1000) {
          return $(bg).fadeIn(4000);
        } else {
          return $(bg).fadeIn(250);
        }
      };
      return bg.src = 'http://lmn2.us.to:34243/bg.jpg';
    }).call(this);</script></body></html>